<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>quoteGen</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">  
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
</head>
<body>
    <!--<h5>The bard is not amused</h5>-->
<section id="top">
    <p></p>
</section>
    <img id='shake'src="img/shake.jpg" alt="" srcset="">
<div id="principal">
        <h1 id="msg" class='insult'></h1>
        <input type='button'class='button' value='flattery' id='hitComp'>
        <input type='button'class='button' value='wrath' id='hit'>
</div>
<div id="multiple">
    
        
        <h4 id='barrage'>Quick fire<i id='arrDwn'class="fa fa-caret-down"></i><i id='arrUp'class="hidden fa fa-caret-up"></i></h4>
    <h1 id='msg3' class='hidden'>Glutton for punishment, ey?</h1>
    
    <div id='barrOpt'class='hidden'>
        <p>How much wrath dost thou desire?</p>
        <fieldset>
            <label for="two">2</label>
            <input class='radio' type="radio" name="howMany" id="two" value="2" checked='checked'/>
            <label for="one">3</label>
            <input class='radio' type="radio" name="howMany" id="three" value="3" />
            <label for="two">4</label>
            <input class='radio' type="radio" name="howMany" id="four" value="4" />
            <label for="two">5</label>
            <input class='radio' type="radio" name="howMany" id="five" value="5" />
        </fieldset>
        <input type="button" name="go" id="go" value="wrath" />
    </div>
</div>

<div id=multipleResults>
<h2 id='msg2' class='hidden insult'></h2> 
<h5 id='MT' class='grey'></h5> 
<input type="button" name="go" id="goMore" value="more" class='hidden'/>     
</div>



<link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond|Nanum+Myeongjo" rel="stylesheet">
<script src="jquery-3.3.1.min.js"></script>
 
<script>

    var start = ['You, my good sir, are ', 'You, my dear, are ', 'This man is ', 'Your mother is ', 'You strike me as '];
    var adj = ['ill-breeding', 'unmuzzled', 'eye-offending', 'villainous', 'knicker-stealing', 'horse-bothering', 'blithering', 'cow-handed','peevish','vacant','churlish'];
    var n1 = ['snollygoster', 'gadabout', 'codpiece', 'scobberlotcher', 'mumblecrust', 'slug-a-bed','jack-a-nape','ruffian','lout'];
    var n2 = ['ninnyhammer', 'man-swine', 'canker blossom', 'smell-feast', 'clot pole', 'fopdoodle','malt-worm','scullian','miscreant'];
    var plus = [' of a ', ' and a ', ' with the mental faculty of a ', ', as well as a ']

    var msg = document.getElementById('msg');
    var hit = document.getElementById('hit');
    var hitComp = document.getElementById('hitComp');
    var go = document.getElementById('go');

    var y = window.scrollY

    var $top = $('#top');
    console.log($top.height());

    $top.click(function(){
        if ($top.height()<='50') {
        $top.animate({
        height:'200px', 
        })
        console.log('hooo')
        } else {
        $top.animate({
        height: '20px', 
        })
        console.log('booo')
    };
    })

    msg.innerHTML = 'Hear the words of the bard, may they be sweet or sour...   '


    //single generator
    function generate() {
        var numStar = Math.floor(Math.random() * start.length);
        var numAdj = Math.floor(Math.random() * adj.length);
        var numN1 = Math.floor(Math.random() * n1.length);
        var numN2 = Math.floor(Math.random() * n2.length);
        var numPlus = Math.floor(Math.random() * plus.length);

        var article = ''

        if (numAdj <=2) {
            article = 'an '
        } else {
            article = 'a '
        }
        
        var output = start[numStar] + article + adj[numAdj] + ' ' + n1[numN1] + plus[numPlus] + n2[numN2] + '.';
        console.log(y);
        return output;
    }




    //multiple generator
    var counter = 0;
   
    function repeat() {

        var howMany = document.querySelector('input[name="howMany"]:checked').value;
        if (counter < howMany) {
            document.getElementById('msg2').innerHTML += '<br>' + generate() + '<br>';
            counter++;
            $('html, body').animate({scrollTop: ($(window).scrollTop() + 80) + 'px'}, 600);
            setTimeout(repeat, 1500);
        } else {
            counter = 0;
            document.getElementById('msg2').innerHTML += '<br>' + '<h6 class="grey">Now be gone with you.</h6> <br>'
            $('html, body').animate({scrollTop: ($(window).scrollTop() +90) + 'px'}, 600);
            return
        }


    }

    //multiple controls
    const $barrage = $('#barrage');
    const $barrOpt = $('#barrOpt');
    const $arrUp = $('#arrUp');
    const $arrDwn = $('#arrDwn');
    const $msg = $('#msg');
    const $msg2 = $('#msg2');
    const $msg3 = $('#msg3');
    const $msg4 = $('#msg4');
    const $hit = $('#hit');
    const $hitComp = $('#hitComp');
    const $principal = $('#principal');
    const $MT = $('#MT');

    $barrage.on('click', () => {
        function change(){ 
            hit.value = 'unleash wrath';
            msg.innerHTML = 'Hear the words of the bard, may they be sweet or sour...   ';
            };
        setTimeout(change,700);
        
        $msg3.fadeToggle(500);
        $arrUp.toggleClass('hidden');
        $arrDwn.toggleClass('hidden');
        $barrOpt.fadeToggle(500);   
        $msg2.fadeToggle(800);
        $barrage.toggleClass('grey');
                $principal.css('min-height', 0).slideToggle(600);
        if ($arrUp.hasClass('hidden')===false){
            $('html, body').animate({scrollTop: ($(window).scrollTop() + 60) + 'px'}, 1000);  
        } else if ($msg2.hasClass('hidden')===true){ 
            $('html, body').animate({scrollTop: ($(window).scrollTop() - 480) + 'px'}, 1000);
            console.log('boom');
            setTimeout(clear,300);
        } else {
            $('html, body').animate({scrollTop: ($(window).scrollTop() - 60) + 'px'}, 500);
            console.log('boob');
        }
    })


    function visibility() {
        $hit.animate({ opacity: 1 }, 1000);
        $hitComp.animate({ opacity: 1 }, 1000);
    }    

//triggers
function clear(){msg2.innerHTML = ''};
hit.addEventListener('click', function () {
    output = generate();
    var iz = output.length * 50;
    console.log(iz);
    var i = 0, text;
    $hit.animate({ opacity: 0 },500);
    $hitComp.animate({ opacity: 0 }, 500);
    msg.innerHTML = '';
    function typing() {
        if (i < output.length) {
            document.getElementById('msg').innerHTML += output.charAt(i);
            i++;
            setTimeout(typing, 50);
        }
    }
    typing();
    setTimeout(visibility, iz);
    
    /*function change(){ hit.value = 'again'}
    setTimeout(change,1000)*/
})



    var startComp = ['This creature before me may be the', 'My darling, you are the', 'Might this be the', 'You, my dear, must be the', 'Hark! Stands before me the', 'Still my heart, here stands the', 'Behold! Here stands the']

    var superlative = ['sweetest', 'fairest', 'loveliest', 'rarest', 'daintiest']

    var adjective = ['precious', 'darling', 'delicate', 'celestial', 'artful', 'silken', 'heavenly', 'rosy-cheeked', 'fair-faced', 'charming', 'enchanting']

    var noun = ['cuckoo-bud', 'true-penny', 'goddess', 'angel', 'flower', 'nymph', 'beauty', 'enchantress']

    var endComp = ['ever I hath lain eyes upon', "in all of God's realm", 'in all of the heavens and Earth', 'that ever hath graced mine eye', 'to ever walk this mortal realm']

    var output = '';
    var i = '';


    function generateComp() {
        msg.innerHTML = '';
        i = 0;
        function gen(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }
        output = gen(startComp) + ' ' + gen(superlative) + ', most ' + gen(adjective) + ' ' + gen(noun) + ' ' + gen(endComp);
        if (output.charAt(1) === 'i') {
            output += '?';
            console.log('yo');
        } else {
            output += '.';
        }
    }
    
    function typing() {
        if (i < output.length) {
            msg.innerHTML += output.charAt(i);
            i++;
            setTimeout(typing, 50);
        }
    }
    hitComp.addEventListener('click', function () {
        $hit.animate({ opacity: 0 }, 500);
        $hitComp.animate({ opacity: 0 }, 500);
        generateComp();
        typing();
        var iz = output.length*50;
        setTimeout(visibility, iz);
    });



go.addEventListener('click', function () {
    $MT.toggleClass('grey');
    if (msg2.innerHTML!==''){ 
    console.log('booya')           
    $('html, body').stop().animate({scrollTop:110}, 700);
    setTimeout(clear,500);
    setTimeout(repeat, 600);
    }else{
    
    msg2.innerHTML = '';
    console.log('shabooya');
    repeat();
    }
    
})
 
</script>  
</body>
</html>
