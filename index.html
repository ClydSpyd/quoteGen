<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>quoteGen</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">  
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
</head>
<body>
    <!--<h5>The bard is not amused</h5>-->

    <img id='shake'src="img/shake.jpg" alt="" srcset="">
<div id="principal">
        <h1 id="msg" class='insult'></h1>
        <input type='button' value='unleash wrath' id='hit'>
</div>
<div id="multiple">
    
        
        <h4 id='barrage'>Quick fire<i id='arrDwn'class="fa fa-caret-down"></i><i id='arrUp'class="hidden fa fa-caret-up"></i></h4>
    <h1 id='msg3' class='hidden'>Glutton for punishment, ey?</h1>
    
    <div id='barrOpt'class='hidden'>
        <p>How much wrath dost thou desire?</p>
        <fieldset>
            <label for="one">1</label>
            <input class='radio' type="radio" name="howMany" id="one" value="1" checked='checked' />
            <label for="two">2</label>
            <input class='radio' type="radio" name="howMany" id="two" value="2" />
            <label for="one">3</label>
            <input class='radio' type="radio" name="howMany" id="three" value="3" />
            <label for="two">4</label>
            <input class='radio' type="radio" name="howMany" id="four" value="4" />
            <label for="two">5</label>
            <input class='radio' type="radio" name="howMany" id="five" value="5" />
        </fieldset>
        <input type="button" name="go" id="go" value="unleash wrath" />
    </div>
</div>

<div id=multipleResults>
<h2 id='msg2' class='hidden insult'></h2>  
<input type="button" name="go" id="goMore" value="more" class='hidden'/>     
</div>



<link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond|Nanum+Myeongjo" rel="stylesheet">
<script src="jquery-3.3.1.min.js"></script>
 
<script>

    var start = ['You, my good sir, are ', 'You, my dear, are ', 'This man is ', 'Your mother is ', 'You strike me as '];
    var adj = ['ill-breeding', 'villainous', 'knicker-stealing', 'horse-bothering', 'blithering', 'cow-handed'];
    var n1 = ['snollygoster', 'gadabout', 'codpiece', 'scobberlotcher', 'mumblecrust', 'slug-a-bed'];
    var n2 = ['ninnyhammer', 'man-swine', 'canker blossom', 'smell-feast', 'clot pole', 'fopdoodle'];
    var plus = [' of a ', ' and a ', ' with the mental faculty of a ', ', as well as a ']

    var msg = document.getElementById('msg');
    var hit = document.getElementById('hit');
    var go = document.getElementById('go');

    msg.innerHTML = 'The Angry Bard hath had enough of your shit...'


    //single generator
    function generate() {
        var numStar = Math.floor(Math.random() * start.length);
        var numAdj = Math.floor(Math.random() * adj.length);
        var numN1 = Math.floor(Math.random() * n1.length);
        var numN2 = Math.floor(Math.random() * n2.length);
        var numPlus = Math.floor(Math.random() * plus.length);

        var article = ''

        if (numAdj === 0) {
            article = 'an '
        } else {
            article = 'a '
        }
        msg.innerHTML = '';
        var output = start[numStar] + article + adj[numAdj] + ' ' + n1[numN1] + plus[numPlus] + n2[numN2] + '.';
        return output;
    }


    //multiple generator
    var counter = 0;
    var y = $('body').scrollTop();
    function repeat() {

        var howMany = document.querySelector('input[name="howMany"]:checked').value;
        if (counter < howMany) {
            document.getElementById('msg2').innerHTML += '<br>' + generate() + '<br>';
            counter++;
            $('html, body').animate({scrollTop: ($(window).scrollTop() + 60) + 'px'}, 600);
            setTimeout(repeat, 1500);
        } else {
            counter = 0;
            document.getElementById('msg2').innerHTML += '<br>' + '<h6 class="grey">Now be gone with you</h6> <br>'
            $('html, body').animate({scrollTop: ($(window).scrollTop() +120) + 'px'}, 600);
            return
        }


    }

    //multiple controls
    const $barrage = $('#barrage');
    const $barrOpt = $('#barrOpt');
    const $arrUp = $('#arrUp');
    const $arrDwn = $('#arrDwn');
    const $msg = $('#msg');
    const $msg2 = $('#msg2');
    const $msg3 = $('#msg3');
    const $msg4 = $('#msg4');
    const $hit = $('#hit');
    const $principal = $('#principal');

    $barrage.on('click', () => {
        
        $principal.css('min-height',0).slideToggle(600);
        /*$msg.slideToggle(500);*/
        //$hit.fadeToggle(500);
        $msg3.fadeToggle(500);
        //msg2.innerHTML = '';
        msg.innerHTML = 'The Angry Bard hath had enough of your shit...';
        $arrUp.toggleClass('hidden');
        $arrDwn.toggleClass('hidden');
        $barrOpt.fadeToggle(500);   
       // $('html').scrollTop(20,0),1000;
        $msg2.fadeToggle(800);
        $barrage.toggleClass('grey');
        if ($arrUp.hasClass('hidden')===false){
            $('html, body').animate({scrollTop: ($(window).scrollTop() + 60) + 'px'}, 1000);  
        } else if ($msg2.hasClass('hidden')===true){ 
            $('html, body').animate({scrollTop: ($(window).scrollTop() - 480) + 'px'}, 1000);
            console.log('boom');
        } else {
            $('html, body').animate({scrollTop: ($(window).scrollTop() - 60) + 'px'}, 500);
            console.log('boob');
        }
    })


    //triggers
    hit.addEventListener('click', function () {
        
        output = generate();
        var i = 0, text;

        function typing() {
            if (i < output.length) {
                document.getElementById('msg').innerHTML += output.charAt(i);
                i++;
                setTimeout(typing, 50);
            }
        }
        typing();
        $hit.fadeToggle(500).delay(3000).fadeToggle(1000);
        function change(){ hit.value = 'again'}
        setTimeout(change,1000)
    })

    go.addEventListener('click', function () {
        msg2.innerHTML = '';
        repeat();
        /*function show(){
            $more= $('#goMore');
            $more.fadeToggle('hidden');
        }
        setTimeout(show, 3500);
        $('html').animate({ scrollTop: 180 }, 800);*/
    })
 
</script>  
</body>
</html>
