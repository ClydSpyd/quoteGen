<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>quoteGen</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">  
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
</head>
<body>
    <!--<h5>The bard is not amused</h5>-->

    <img id='shake'src="img/shake.jpg" alt="" srcset="">
<div id="principal">
        <h1 id="msg" class='insult'></h1>
        <input type='button' value='unleash wrath' id='hit'>
</div>
<div id="multiple">
    
        
        <h4 id='barrage'>Quick fire<i id='arrDwn'class="fa fa-caret-down"></i><i id='arrUp'class="hidden fa fa-caret-up"></i></h4>
    <h1 id='msg3' class='hidden'>Glutton for punishment, ey?</h1>
    
    <div id='barrOpt'class='hidden'>
        <p>How much wrath dost thou desire?</p>
        <fieldset>
            <label for="two">2</label>
            <input class='radio' type="radio" name="howMany" id="two" value="2" checked='checked'/>
            <label for="one">3</label>
            <input class='radio' type="radio" name="howMany" id="three" value="3" />
            <label for="two">4</label>
            <input class='radio' type="radio" name="howMany" id="four" value="4" />
            <label for="two">5</label>
            <input class='radio' type="radio" name="howMany" id="five" value="5" />
        </fieldset>
        <input type="button" name="go" id="go" value="unleash wrath" />
    </div>
</div>

<div id=multipleResults>
<h2 id='msg2' class='hidden insult'></h2> 
<h5 id='MT' class='grey'></h5> 
<input type="button" name="go" id="goMore" value="more" class='hidden'/>     
</div>



<link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond|Nanum+Myeongjo" rel="stylesheet">
<script src="jquery-3.3.1.min.js"></script>
 
<script>

    var start = ['You, my good sir, are ', 'You, my dear, are ', 'This man is ', 'Your mother is ', 'You strike me as '];
    var adj = ['ill-breeding', 'villainous', 'knicker-stealing', 'horse-bothering', 'blithering', 'cow-handed'];
    var n1 = ['snollygoster', 'gadabout', 'codpiece', 'scobberlotcher', 'mumblecrust', 'slug-a-bed'];
    var n2 = ['ninnyhammer', 'man-swine', 'canker blossom', 'smell-feast', 'clot pole', 'fopdoodle'];
    var plus = [' of a ', ' and a ', ' with the mental faculty of a ', ', as well as a ']

    var msg = document.getElementById('msg');
    var hit = document.getElementById('hit');
    var go = document.getElementById('go');

    var y = window.scrollY

    msg.innerHTML = 'The Angry Bard hath had enough of your shit...'


    //single generator
    function generate() {
        var numStar = Math.floor(Math.random() * start.length);
        var numAdj = Math.floor(Math.random() * adj.length);
        var numN1 = Math.floor(Math.random() * n1.length);
        var numN2 = Math.floor(Math.random() * n2.length);
        var numPlus = Math.floor(Math.random() * plus.length);

        var article = ''

        if (numAdj === 0) {
            article = 'an '
        } else {
            article = 'a '
        }
        msg.innerHTML = '';
        var output = start[numStar] + article + adj[numAdj] + ' ' + n1[numN1] + plus[numPlus] + n2[numN2] + '.';
        console.log(y);
        return output;
    }


    //multiple generator
    var counter = 0;
   
    function repeat() {

        var howMany = document.querySelector('input[name="howMany"]:checked').value;
        if (counter < howMany) {
            document.getElementById('msg2').innerHTML += '<br>' + generate() + '<br>';
            counter++;
            $('html, body').animate({scrollTop: ($(window).scrollTop() + 80) + 'px'}, 600);
            setTimeout(repeat, 1500);
        } else {
            counter = 0;
            document.getElementById('msg2').innerHTML += '<br>' + '<h6 class="grey">Now be gone with you.</h6> <br>'
            $('html, body').animate({scrollTop: ($(window).scrollTop() +90) + 'px'}, 600);
            return
        }


    }

    //multiple controls
    const $barrage = $('#barrage');
    const $barrOpt = $('#barrOpt');
    const $arrUp = $('#arrUp');
    const $arrDwn = $('#arrDwn');
    const $msg = $('#msg');
    const $msg2 = $('#msg2');
    const $msg3 = $('#msg3');
    const $msg4 = $('#msg4');
    const $hit = $('#hit');
    const $principal = $('#principal');
    const $MT = $('#MT');

    $barrage.on('click', () => {
        function change(){ 
            hit.value = 'unleash wrath';
            msg.innerHTML = 'The Angry Bard hath had enough of your shit...';
            };
        setTimeout(change,1000);
        
        $msg3.fadeToggle(500);
        $arrUp.toggleClass('hidden');
        $arrDwn.toggleClass('hidden');
        $barrOpt.fadeToggle(500);   
        $msg2.fadeToggle(800);
        $barrage.toggleClass('grey');
                $principal.css('min-height', 0).slideToggle(600);
        if ($arrUp.hasClass('hidden')===false){
            $('html, body').animate({scrollTop: ($(window).scrollTop() + 60) + 'px'}, 1000);  
        } else if ($msg2.hasClass('hidden')===true){ 
            $('html, body').animate({scrollTop: ($(window).scrollTop() - 480) + 'px'}, 1000);
            console.log('boom');
            setTimeout(clear,300);
        } else {
            $('html, body').animate({scrollTop: ($(window).scrollTop() - 60) + 'px'}, 500);
            console.log('boob');
        }
    })


//triggers
function clear(){msg2.innerHTML = ''};
hit.addEventListener('click', function () {
    output = generate();
    var i = 0, text;
    $hit.animate({ opacity: 0 },500);

    function visibility() {
        $hit.animate({ opacity: 1 },1000);
    }

    function typing() {
        if (i < output.length) {
            document.getElementById('msg').innerHTML += output.charAt(i);
            i++;
            setTimeout(typing, 50);
        }
    }
    typing();
    setTimeout(visibility, 3000);
    function change(){ hit.value = 'again'}
    setTimeout(change,1000)
})

go.addEventListener('click', function () {
    $MT.toggleClass('grey');
    if (msg2.innerHTML!==''){ 
    console.log('booya')           
    $('html, body').stop().animate({scrollTop:110}, 700);
    setTimeout(clear,500);
    setTimeout(repeat, 600);
    }else{
    
    msg2.innerHTML = '';
    console.log('shabooya');
    repeat();
    }
    
})
 
</script>  
</body>
</html>
